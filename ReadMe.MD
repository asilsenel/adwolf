# Ad Platform MVP

Multi-platform reklam yÃ¶netimi ve AI-powered insights platformu.

## ğŸ¯ MVP Scope

**Desteklenen Platformlar:**
- Google Ads
- Meta Ads (Facebook/Instagram)

**Core Features:**
- OAuth ile hesap baÄŸlama
- GÃ¼nlÃ¼k metrik senkronizasyonu
- Unified cross-platform dashboard
- AI-powered gÃ¼nlÃ¼k Ã¶zet ve Ã¶neriler
- Email/WhatsApp alert sistemi

## ğŸ› ï¸ Tech Stack

| Katman | Teknoloji |
|--------|-----------|
| Frontend | Next.js 14 + TypeScript + Tailwind + shadcn/ui |
| Backend | Python 3.11 + FastAPI |
| Database | Supabase (PostgreSQL) |
| Queue | Celery + Redis |
| AI | OpenAI API (GPT-4o) |
| Hosting | Railway |

## ğŸ“ Proje YapÄ±sÄ±

```
adplatform-mvp/
â”œâ”€â”€ frontend/                 # Next.js frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # App router pages
â”‚   â”‚   â”œâ”€â”€ components/      # React components
â”‚   â”‚   â”œâ”€â”€ lib/             # Utilities & Supabase client
â”‚   â”‚   â””â”€â”€ types/           # TypeScript types
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                  # FastAPI backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/             # API routes
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/        # OAuth endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts/    # Account management
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics/     # Metrics queries
â”‚   â”‚   â”‚   â”œâ”€â”€ insights/    # AI insights
â”‚   â”‚   â”‚   â””â”€â”€ actions/     # Action execution
â”‚   â”‚   â”œâ”€â”€ connectors/      # Platform connectors
â”‚   â”‚   â”‚   â”œâ”€â”€ google_ads/  # Google Ads API
â”‚   â”‚   â”‚   â””â”€â”€ meta_ads/    # Meta Marketing API
â”‚   â”‚   â”œâ”€â”€ services/        # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ sync/        # Data sync services
â”‚   â”‚   â”‚   â”œâ”€â”€ insights/    # AI insight generation
â”‚   â”‚   â”‚   â””â”€â”€ notifications/ # Email/WhatsApp
â”‚   â”‚   â”œâ”€â”€ models/          # Pydantic models
â”‚   â”‚   â”œâ”€â”€ core/            # Config, security, etc.
â”‚   â”‚   â””â”€â”€ tasks/           # Celery tasks
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ database/                 # SQL migrations
â”‚   â”œâ”€â”€ 001_initial_schema.sql
â”‚   â””â”€â”€ 002_seed_and_helpers.sql
â”‚
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

## ğŸš€ Kurulum

### 1. Supabase Setup

1. [Supabase](https://supabase.com) hesabÄ± oluÅŸtur
2. Yeni proje oluÅŸtur
3. SQL Editor'da migration dosyalarÄ±nÄ± Ã§alÄ±ÅŸtÄ±r:
   - `database/001_initial_schema.sql`
   - `database/002_seed_and_helpers.sql`

4. Environment variables'larÄ± al:
   - `SUPABASE_URL`
   - `SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`

### 2. Platform API Credentials

**Google Ads:**
1. [Google Cloud Console](https://console.cloud.google.com) â†’ Yeni proje
2. Google Ads API'yi etkinleÅŸtir
3. OAuth 2.0 credentials oluÅŸtur
4. Developer token al (test account iÃ§in)

**Meta Ads:**
1. [Meta for Developers](https://developers.facebook.com) â†’ App oluÅŸtur
2. Marketing API'yi ekle
3. App ID ve App Secret al

### 3. Backend Setup

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# .env dosyasÄ± oluÅŸtur
cp .env.example .env
# DeÄŸiÅŸkenleri doldur

# Development server
uvicorn app.main:app --reload
```

### 4. Frontend Setup

```bash
cd frontend
npm install

# .env.local dosyasÄ± oluÅŸtur
cp .env.example .env.local
# DeÄŸiÅŸkenleri doldur

# Development server
npm run dev
```

### 5. Redis & Celery (Background Jobs)

```bash
# Redis baÅŸlat (Docker ile)
docker run -d -p 6379:6379 redis:7-alpine

# Celery worker baÅŸlat
cd backend
celery -A app.tasks worker --loglevel=info

# Celery beat (scheduler)
celery -A app.tasks beat --loglevel=info
```

## ğŸ” Environment Variables

### Backend (.env)
```env
# Supabase
SUPABASE_URL=https://xxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=xxx

# Google Ads
GOOGLE_ADS_CLIENT_ID=xxx
GOOGLE_ADS_CLIENT_SECRET=xxx
GOOGLE_ADS_DEVELOPER_TOKEN=xxx
GOOGLE_ADS_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# Meta Ads
META_APP_ID=xxx
META_APP_SECRET=xxx
META_REDIRECT_URI=http://localhost:8000/api/auth/meta/callback

# OpenAI
OPENAI_API_KEY=xxx

# Redis
REDIS_URL=redis://localhost:6379/0

# Security
JWT_SECRET_KEY=xxx
ENCRYPTION_KEY=xxx  # For token encryption
```

### Frontend (.env.local)
```env
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
NEXT_PUBLIC_API_URL=http://localhost:8000
```

## ğŸ“Š Database Schema Overview

### Core Tables
- `organizations` - Multi-tenant organizations
- `users` - User profiles (linked to Supabase Auth)
- `connected_accounts` - OAuth-connected ad accounts

### Campaign Data
- `campaigns` - Synced campaigns
- `ad_sets` - Ad sets / Ad groups
- `daily_metrics` - Daily aggregated metrics
- `hourly_metrics` - Real-time metrics (optional)

### AI & Insights
- `insights` - AI-generated insights
- `recommended_actions` - Actionable recommendations
- `daily_digests` - Daily summary reports

### System
- `sync_jobs` - Background job tracking
- `api_rate_limits` - Rate limit management

## ğŸ”„ Data Flow

```
1. OAuth Connect
   User â†’ Frontend â†’ Backend â†’ Platform OAuth â†’ Store tokens

2. Daily Sync (Celery)
   Scheduler â†’ Fetch metrics â†’ Normalize â†’ Store in Supabase

3. Insight Generation
   Sync complete â†’ Analyze metrics â†’ GPT-4o â†’ Generate insights

4. Daily Digest
   Morning job â†’ Aggregate data â†’ Generate summary â†’ Send notifications
```

## ğŸ“± API Endpoints (Preview)

```
Auth:
  POST   /api/auth/google/initiate
  GET    /api/auth/google/callback
  POST   /api/auth/meta/initiate
  GET    /api/auth/meta/callback

Accounts:
  GET    /api/accounts
  GET    /api/accounts/{id}
  DELETE /api/accounts/{id}
  POST   /api/accounts/{id}/sync

Metrics:
  GET    /api/metrics/summary
  GET    /api/metrics/daily
  GET    /api/metrics/campaigns
  GET    /api/metrics/compare

Insights:
  GET    /api/insights
  GET    /api/insights/{id}
  POST   /api/insights/{id}/read
  POST   /api/insights/{id}/dismiss

Actions:
  GET    /api/actions
  POST   /api/actions/{id}/execute
  POST   /api/actions/{id}/dismiss

Digest:
  GET    /api/digest/today
  GET    /api/digest/history
```

## ğŸš€ Deployment (Railway)

1. Railway hesabÄ± oluÅŸtur
2. GitHub repo'yu baÄŸla
3. Environment variables ekle
4. Deploy!

```yaml
# railway.toml
[build]
builder = "dockerfile"

[deploy]
startCommand = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
```

## ğŸ“ˆ Roadmap

### Phase 1 (MVP) âœ…
- [x] Database schema
- [ ] OAuth integration (Google + Meta)
- [ ] Basic metric sync
- [ ] Simple dashboard
- [ ] AI daily digest

### Phase 2
- [ ] Amazon Ads integration
- [ ] Advanced insights
- [ ] One-click actions
- [ ] WhatsApp notifications

### Phase 3
- [ ] TikTok Ads
- [ ] Custom rules/alerts
- [ ] Team collaboration
- [ ] White-label option

## ğŸ“ License

MIT

## ğŸ¤ Contributing

PRs welcome!